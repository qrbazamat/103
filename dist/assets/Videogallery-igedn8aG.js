import{j as e,A as o,a5 as $,v as k,w as C,r as s,L as P,u as S,E as p,C as L}from"./index-aiToVYxB.js";import{B as v}from"./Banner-q2aHT_zl.js";import{S as _}from"./SecondaryLogo-hOelgVcb.js";import{P as B}from"./index-PvytoHy6.js";import{a as b,L as D}from"./axios-VhRKQKmJ.js";import{a as I}from"./formatFunctions-qHelEa9W.js";import{E as V}from"./Error--wgnwUXC.js";import{O as j}from"./fancybox-hRH1fn40.js";import"./index-Nop-sfen.js";import"./index-nE-tKaZ0.js";/* empty css              */const F=({post:a})=>e.jsxs("a",{"data-fancybox":`video-gallery-${a.id}`,href:`${o}${a.video.name}`,className:"[&:hover_img]:scale-105 flex h-full transition duration-200 my-post rounded-3xl",onClick:()=>{b.get(`${o}api/videos/${id}`)},children:[e.jsx("span",{className:"absolute h-8 w-8 left-3 top-3 bg-gray-200/75 flex justify-center items-center z-50 text-white1 rounded-lg p-1",children:e.jsx($,{className:"h-6"})}),e.jsxs("div",{className:"*:w-full rounded-2xl flex flex-col items-center gap-1 lg:gap-1.5 min-[1400px]:gap-2",children:[e.jsxs("div",{className:"aspect-[4/3] rounded-xl w-full relative overflow-hidden shadow-md",children:[e.jsx("video",{className:"transition duration-200 w-full h-full object-cover",children:e.jsx("source",{src:`${o}${a.video.name}`,alt:a.title})}),e.jsx("h1",{className:"font-semibold h-[68px] max-sm:text-[12px] max-md:text-xs text-sm line-clamp-3 absolute left-1.5 bottom-1.5 right-1.5 p-1 rounded-md bg-gray-100/50 backdrop-blur-sm",children:a.title})]}),e.jsxs("div",{className:"text-[--MainBlueColor] mt-auto flex items-center gap-2",children:[e.jsx(k,{className:"shrink-0 h-[18px]"}),new Date(a.created_at).toLocaleDateString(),e.jsxs("span",{className:"ml-auto flex items-center gap-1 shrink-0",children:[e.jsx(C,{className:"shrink-0 h-5"}),I.format(a==null?void 0:a.view_count)]})]})]})]});function z(a){const n=a.delegate||"[data-fancybox]";return s.useEffect(()=>{const r=a.options||{};return j.bind(n,r),()=>{j.destroy()}},[]),e.jsx(e.Fragment,{children:a.children})}const T=s.memo(()=>{var u,f;const[a,n]=s.useState([]),[r,i]=s.useState("loading"),{navbar:[,,{links:[,,{text:d}],title:x}],lang:c}=s.useContext(P),[y,g]=S(),h=Math.ceil((a==null?void 0:a.total)/(a==null?void 0:a.per_page)),l=y.get("page")*1,N=()=>{i("loading"),b.get(`${o}api/videos?lang=${c}&page=${l}`).then(t=>{n(t.data.data),i(!1)}).catch(t=>{n([]),i(t.message)})};s.useEffect(()=>{N()},[c,l]),s.useEffect(()=>{l||g(t=>(t.set("page",1),t))},[]);const w=t=>{t>0&&t<=h&&g(m=>(m.set("page",t),m))},E=[{label:x,link:"/axborot-xizmati"},{label:d,link:"/"}];return e.jsxs("section",{children:[e.jsx(p,{children:e.jsx(v,{items:E,text:x})}),e.jsxs(L,{className:"py-2 sm:py-4 md:py-6",children:[e.jsx(p,{children:e.jsx(_,{title:d})}),r==="loading"?e.jsx(D,{}):r?e.jsx(V,{message:r}):((u=a==null?void 0:a.data)==null?void 0:u.length)===0?e.jsx(NoData,{lang:c}):e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"p-3 grid min-[460px]:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-8 mb-8",children:(f=a==null?void 0:a.data)==null?void 0:f.map((t,m)=>e.jsx(z,{children:e.jsx("div",{className:"shadow-xl relative border p-2 -m-2 rounded-2xl transition hover:scale-[103%] cursor-pointer",children:e.jsx(F,{post:t})})},t==null?void 0:t.id))}),e.jsx(B,{currentPage:l,totalPages:h,onPageChange:w})]})]})]})});export{T as default};
