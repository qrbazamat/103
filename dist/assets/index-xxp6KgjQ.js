import{r as e,u as N,L as S,j as t,E as h,C as b,A as C}from"./index-aiToVYxB.js";import{B as L}from"./Banner-q2aHT_zl.js";import{S as y}from"./SecondaryLogo-hOelgVcb.js";import{N as k}from"./NewsCard-rr1zLy9Z.js";import{P as B}from"./index-PvytoHy6.js";import{L as $,a as A}from"./axios-VhRKQKmJ.js";import{E as D}from"./Error--wgnwUXC.js";import{N as I}from"./NoData-P1jQB6lr.js";import"./index-Nop-sfen.js";import"./index-nE-tKaZ0.js";/* empty css              */import"./formatFunctions-qHelEa9W.js";const O=e.memo(()=>{var p,u;const[s,l]=e.useState([]),[i,n]=e.useState("loading"),[f,c]=N(),d=Math.ceil((s==null?void 0:s.total)/(s==null?void 0:s.per_page)),r=f.get("page")*1,{navbar:[,,{links:[{text:x}],title:g}],lang:m}=e.useContext(S),j=()=>{n("loading"),A.get(`${C}api/news?lang=${m}&page=${r}`).then(a=>{l(a.data.data),n(!1)}).catch(a=>{l([]),n(a.message)})};e.useEffect(()=>{j()},[m,r]),e.useEffect(()=>{r||c(a=>(a.set("page",1),a))},[]);const P=a=>{a>0&&a<=d&&c(o=>(o.set("page",a),o))},E=[{label:g,link:"/axborot-xizmati"},{label:x,link:"/"}];return t.jsxs("section",{children:[t.jsx(h,{children:t.jsx(L,{items:E,text:g})}),t.jsxs(b,{className:"py-2 sm:py-4 md:py-6",children:[t.jsx(h,{children:t.jsx(y,{title:x})}),i==="loading"?t.jsx($,{}):i?t.jsx(D,{message:i}):((p=s==null?void 0:s.data)==null?void 0:p.length)===0?t.jsx(I,{lang:m}):t.jsxs(t.Fragment,{children:[t.jsx("ul",{className:"p-3 grid min-[460px]:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-8 mb-8",children:(u=s==null?void 0:s.data)==null?void 0:u.map((a,o)=>t.jsx("li",{className:"shadow-xl border p-2 -m-2 rounded-2xl transition hover:scale-[103%]",children:t.jsx(k,{post:a,id:a==null?void 0:a.id})},o))}),t.jsx(B,{currentPage:r,totalPages:d,onPageChange:P})]})]})]})});export{O as default};
