import{r as s,j as e,A as y,L as b,E as w,C as L,y as $,a as B}from"./index-aiToVYxB.js";import{B as I}from"./Banner-q2aHT_zl.js";import{L as D}from"./Leader-5DMmI3QX.js";import{L as C,a as k}from"./axios-VhRKQKmJ.js";import{E as N}from"./Error--wgnwUXC.js";import{N as v}from"./NoData-P1jQB6lr.js";import{S as M}from"./SecondaryLogo-hOelgVcb.js";import"./index-Nop-sfen.js";import"./index-nE-tKaZ0.js";/* empty css              */const G=({id:x,isActive:a,persons:m,setPersons:g,lang:o})=>{const[n,r]=s.useState("loading"),[l,u]=s.useState(0),d=s.useRef(null);s.useEffect(()=>{var t;u(a?(t=d.current)==null?void 0:t.scrollHeight:0)},[a,n]);const i=()=>{r("loading"),k.get(`${y}api/department?lang=${o}&category_id=${x}`).then(t=>{g(f=>[...f,...t.data.data]),r(!1)}).catch(t=>{r(t.message)})};return s.useEffect(()=>{m.length===0&&a?i():r(!1)},[o,a]),e.jsx("div",{ref:d,className:"transition-height duration-300 overflow-hidden",style:{height:`${l<160&&a?160:l}px`},children:n==="loading"?e.jsx("div",{className:"mt-8",children:e.jsx(C,{})}):n?e.jsx(N,{message:n}):m.length===0?e.jsx("div",{className:"mt-2",children:e.jsx(v,{lang:o})}):m.map(t=>e.jsx(D,{person:t},t.id))})},K=()=>{const[x,a]=s.useState([]),[m,g]=s.useState([]),[o,n]=s.useState(null),[r,l]=s.useState("loading"),{navbar:[{title:u,links:[,,{text:d}]}],lang:i}=s.useContext(b),t=[{label:u,link:"/markaz-haqida"},{label:d,link:""}],f=()=>{l("loading"),k.get(`${y}api/category?lang=${i}`).then(h=>{a(h.data.data),l(!1)}).catch(h=>{a([]),l(h.message)})};return s.useEffect(()=>{f()},[i]),e.jsxs("section",{children:[e.jsx(w,{children:e.jsx(I,{items:t,text:u})}),e.jsxs(L,{className:"py-2 sm:py-4 md:py-6 shadow-2xl",children:[e.jsx(w,{children:e.jsx(M,{title:d})}),e.jsx("ul",{children:r==="loading"?e.jsx(C,{}):r?e.jsx(N,{message:r}):x.length===0?e.jsx(v,{lang:i}):x.map((h,c)=>{const{id:p,title:S}=h,E=m.filter(j=>j.category_id===p);return e.jsxs("li",{className:"my-3",children:[e.jsxs("div",{className:`transition duration-200 hover:bg-[--MainBlueColor]${o===c?" bg-[--MainBlueColor] text-white *:stroke-white":""} hover:text-white [&:hover>*]:stroke-white shadow max-w-[96%] sm:max-w-[90%] md:max-w-[75%] mx-auto p-2 sm:p-3 rounded-md cursor-pointer bg-[--GreyColor] uppercase font-semibold sm:text-lg text-[--MainBlueColor] flex items-center justify-between select-none`,onClick:()=>n(j=>j===c?null:c),children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx($,{className:"w-6 sm:w-8 shrink-0"}),S]}),e.jsx(B,{className:`transition shrink-0 duration-200 h-6 sm:h-8 fill-none stroke-2 stroke-[--MainBlueColor]${c===o?" -rotate-90":""}`})]}),e.jsx(G,{id:p,isActive:o===c,setPersons:g,lang:i,persons:E})]},p)})})]})]})};export{K as default};
